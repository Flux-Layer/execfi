{"abi":[{"type":"constructor","inputs":[{"name":"admin","type":"address","internalType":"address"},{"name":"coinFlipContract","type":"address","internalType":"address"},{"name":"treasuryAddress","type":"address","internalType":"address"},{"name":"feeBps","type":"uint16","internalType":"uint16"}],"stateMutability":"nonpayable"},{"type":"receive","stateMutability":"payable"},{"type":"function","name":"DEFAULT_ADMIN_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"adminRefundEscrow","inputs":[{"name":"sessionKey","type":"bytes32","internalType":"bytes32"},{"name":"recipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"balances","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"coinFlip","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"emergencyWithdraw","inputs":[{"name":"recipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"escrow","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"gameId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getRoleAdmin","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"grantRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"hasRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"houseFeeBps","inputs":[],"outputs":[{"name":"","type":"uint16","internalType":"uint16"}],"stateMutability":"view"},{"type":"function","name":"placeBet","inputs":[{"name":"sessionId","type":"uint64","internalType":"uint64"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"renounceRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"callerConfirmation","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"revokeRole","inputs":[{"name":"role","type":"bytes32","internalType":"bytes32"},{"name":"account","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setHouseFeeBps","inputs":[{"name":"newFeeBps","type":"uint16","internalType":"uint16"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setTreasury","inputs":[{"name":"newTreasury","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settle","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"sessionId","type":"uint64","internalType":"uint64"},{"name":"submittedGameId","type":"uint256","internalType":"uint256"},{"name":"multiplierX100","type":"uint256","internalType":"uint256"},{"name":"outcome","type":"uint8","internalType":"uint8"},{"name":"guess","type":"uint8","internalType":"uint8"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"settled","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"supportsInterface","inputs":[{"name":"interfaceId","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"treasury","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"withdraw","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"BetPlaced","inputs":[{"name":"bettor","type":"address","indexed":true,"internalType":"address"},{"name":"sessionKey","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"EmergencyWithdrawal","inputs":[{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"EscrowRefunded","inputs":[{"name":"sessionKey","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"FeeUpdated","inputs":[{"name":"previousFeeBps","type":"uint16","indexed":false,"internalType":"uint16"},{"name":"newFeeBps","type":"uint16","indexed":false,"internalType":"uint16"}],"anonymous":false},{"type":"event","name":"RoleAdminChanged","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"previousAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"newAdminRole","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"RoleGranted","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"RoleRevoked","inputs":[{"name":"role","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"sender","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Settled","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"sessionId","type":"uint64","indexed":true,"internalType":"uint64"},{"name":"gameId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"stake","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"gross","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"fee","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"net","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"outcome","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"guess","type":"uint8","indexed":false,"internalType":"uint8"}],"anonymous":false},{"type":"event","name":"TreasuryUpdated","inputs":[{"name":"previousTreasury","type":"address","indexed":true,"internalType":"address"},{"name":"newTreasury","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Withdrawn","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AccessControlBadConfirmation","inputs":[]},{"type":"error","name":"AccessControlUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"},{"name":"neededRole","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"AlreadySettled","inputs":[]},{"type":"error","name":"BetAlreadyPlaced","inputs":[]},{"type":"error","name":"InvalidAmount","inputs":[]},{"type":"error","name":"InvalidFee","inputs":[]},{"type":"error","name":"InvalidRecipient","inputs":[]},{"type":"error","name":"InvalidTreasury","inputs":[]},{"type":"error","name":"NoEscrow","inputs":[]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"SessionConsumed","inputs":[]},{"type":"error","name":"SessionNotVerified","inputs":[]}],"bytecode":{"object":"0x60c0604090808252346200018957608081620012ea8038038091620000258285620001d8565b83398101031262000189576200003b8162000210565b620000496020830162000210565b9060606200005985850162000210565b9301519161ffff8316938484036200018957600180556001600160a01b038381169590949086158015620001cd575b8015620001c2575b620001b15761271010620001a0576080839052600280546001600160b01b0319169286169290921760a09190911b61ffff60a01b16179055845163d7c81b5560e01b81529260209184916004918391165afa801562000196575f9062000157575b62000100925060a05262000225565b50330362000145575b516110229081620002a882396080518181816101fb015281816108e40152610a7e015260a05181818161022d0152818161056301526108ab0152f35b620001503362000225565b5062000109565b506020823d6020116200018d575b816200017460209383620001d8565b810103126200018957620001009151620000f1565b5f80fd5b3d915062000165565b84513d5f823e3d90fd5b86516358d620b360e01b8152600490fd5b87516302979eb960e31b8152600490fd5b508583161562000090565b508584161562000088565b601f909101601f19168101906001600160401b03821190821017620001fc57604052565b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b03821682036200018957565b6001600160a01b03165f8181525f80516020620012ca833981519152602052604090205460ff16620002a2575f8181525f80516020620012ca83398151915260205260408120805460ff191660011790553391907f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d8180a4600190565b505f9056fe608060409080825260049081361015610022575b5050503615610020575f80fd5b005b5f3560e01c90816301ffc9a714610cfa575080630b4bf6f014610c67578063248a9ca314610c3d57806327e235e314610c075780632e1a7d4d14610b1b5780632f2ff15d14610af257806336568abe14610aad5780635ac947cb14610a6a57806361d027b314610a425780636796debf1461086d5780636ff1c9bc1461074b57806391d1485414610707578063a217fddf146106ed578063a7e75032146106c5578063af8cdd84146105c0578063d547741f14610586578063d7c81b551461054c578063d945af1d1461051f578063ee59d240146104fa578063f0e18def1461019d5763f0f44260146101155780610013565b346101995760203660031901126101995761012e610d4c565b90610137610e46565b6001600160a01b0391821692831561018c575050600254826bffffffffffffffffffffffff60a01b821617600255167f4ab5be82436d353e61ca18726e984e561f5c1cc7c6d38b29d2553c790434705a5f80a3005b516302979eb960e31b8152fd5b5f80fd5b5090346101995760c0366003190112610199576101b8610d4c565b9060243567ffffffffffffffff811692838203610199576044359460843560ff81168091036101995760a4359160ff83168093036101995760018060a01b0394857f000000000000000000000000000000000000000000000000000000000000000016968733036104b85761022b610edb565b7f00000000000000000000000000000000000000000000000000000000000000008a0361044357805163675676c960e11b81526001600160a01b03871684820190815260208181018d905267ffffffffffffffff909416604082015290989083908a9081906060010381845afa98891561047f575f99610489575b5082602491835192838092635baede1960e11b82528d898301525afa90811561047f575f91610452575b501561044357875f526005825260ff815f20541661043557875f5260038252805f205497881561042557917f273b796921b4ccaba27eaa11bf8a76d5264285955918636244b7a224c65957829795939160c09795935f5260058252805f20600160ff19825416179055600382525f81812055606461034f81358c610e26565b0461271061036661ffff60025460a01c1683610e26565b049283821061041e576103798483610d78565b945b85610401575b846103e2575b8c838181106103b7575b50505082519b8c528b01528901526060880152608087015260a08601521692a460018055005b6103c091610d78565b908a600254165f5282526103d8845f20918254610e39565b90555f8c83610391565b89600254165f52808252835f206103fa868254610e39565b9055610387565b8989165f52808252835f20610417878254610e39565b9055610381565b5f9461037b565b815163769cabf160e01b81528490fd5b5162560ff960e81b81529050fd5b51637c5f015360e01b81529050fd5b6104729150833d8511610478575b61046a8183610d99565b810190610e0e565b5f6102d0565b503d610460565b82513d5f823e3d90fd5b9098508281813d83116104b1575b6104a18183610d99565b81010312610199575197826102a6565b503d610497565b5162461bcd60e51b8152602081840181905260248201527f436f696e466c69705661756c743a206e6f742067616d6520636f6e74726163746044820152606490fd5b8234610199575f3660031901126101995760209061ffff60025460a01c169051908152f35b50903461019957602036600319011261019957602091355f526005825260ff815f20541690519015158152f35b8234610199575f36600319011261019957602090517f00000000000000000000000000000000000000000000000000000000000000008152f35b50903461019957806003193601126101995761002091356105bb60016105aa610d62565b93835f525f6020525f200154610e9c565b610f7a565b5090346101995780600319360112610199578135906105dd610d62565b906105e6610e46565b6105ee610edb565b6001600160a01b0382169384156106b757835f526003602052815f20549283156106a8575f8080868194898352600360205282888120555af161062f610dcf565b501561066657507ffc31a7ddbe933aa6e67f3c98c183fbc87addd2b602fcfb10238d2f85cf0266179160209151908152a360018055005b6020606492519162461bcd60e51b8352820152601c60248201527f436f696e466c69705661756c743a20726566756e64206661696c6564000000006044820152fd5b50905163769cabf160e01b8152fd5b9051634e46966960e11b8152fd5b50903461019957602036600319011261019957602091355f5260038252805f20549051908152f35b8234610199575f36600319011261019957602090515f8152f35b509034610199578060031936011261019957602091610724610d62565b90355f525f8352815f209060018060a01b03165f52825260ff815f20541690519015158152f35b50903461019957602036600319011261019957610766610d4c565b9061076f610e46565b610777610edb565b6001600160a01b0382169283156106b7574792831561082a575f80808681945af16107a0610dcf565b50156107d757507f23d6711a1d031134a36921253c75aa59e967d38e369ac625992824315e204f209160209151908152a260018055005b6020608492519162461bcd60e51b8352820152602860248201527f436f696e466c69705661756c743a20656d657267656e637920776974686472616044820152671dc819985a5b195960c21b6064820152fd5b506020606492519162461bcd60e51b8352820152601760248201527f436f696e466c69705661756c743a206e6f2066756e64730000000000000000006044820152fd5b50906020908160031936011261019957823567ffffffffffffffff81168103610199573415610a3257815163675676c960e11b8152338186019081527f0000000000000000000000000000000000000000000000000000000000000000602082015267ffffffffffffffff909216604083015293907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316908490869081906060010381845afa9485156109eb575f95610a03575b50845f526005845260ff835f2054166109f55783602491845192838092635baede1960e11b825289878301525afa9081156109eb575f916109ce575b506109c057835f5260038352815f20546109b257507fe9a2cbce8726843bc0e7ed0322f7fdfbc3a351f26352fcd9c6eb888b57d3daff90835f526003835234815f205551913483523392a3005b90516318ade6cb60e21b8152fd5b905163c41aba6f60e01b8152fd5b6109e59150843d86116104785761046a8183610d99565b5f610965565b83513d5f823e3d90fd5b50905162560ff960e81b8152fd5b9094508381813d8311610a2b575b610a1b8183610d99565b810103126101995751935f610929565b503d610a11565b815163162908e360e11b81528490fd5b8234610199575f3660031901126101995760025490516001600160a01b039091168152602090f35b8234610199575f36600319011261019957517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b509034610199578060031936011261019957610ac7610d62565b90336001600160a01b03831603610ae357506100209135610f7a565b5163334bd91960e11b81529050fd5b5090346101995780600319360112610199576100209135610b1660016105aa610d62565b610efe565b50903461019957602036600319011261019957813591610b39610edb565b82158015610bf4575b610be657335f5280602052815f20610b5b848254610d78565b90555f80808086335af1610b6d610dcf565b5015610ba45750519081527f7084f5476618d8e60b11ef0d7d3f06914655adb8793e28ff7f018d4c76d505d560203392a260018055005b6020606492519162461bcd60e51b8352820152601e60248201527f436f696e466c69705661756c743a207769746864726177206661696c656400006044820152fd5b905163162908e360e11b8152fd5b50335f5280602052815f20548311610b42565b509034610199576020366003190112610199576020916001600160a01b03610c2d610d4c565b165f528252805f20549051908152f35b50903461019957602036600319011261019957602091355f525f82526001815f2001549051908152f35b50903461019957602036600319011261019957813561ffff8082169081830361019957610c92610e46565b6127108211610cea576002805461ffff60a01b19811660a095861b61ffff60a01b16179091558451931c16825260208201527f2e7c4279000925b8ff0bca0e7109cbc47fc6f6c4edfb831ffe7466cf0af07fa09250a1005b505050516358d620b360e01b8152fd5b823461019957602036600319011261019957359063ffffffff60e01b821680920361019957602091637965db0b60e01b8114908115610d3b575b5015158152f35b6301ffc9a760e01b14905083610d34565b600435906001600160a01b038216820361019957565b602435906001600160a01b038216820361019957565b91908203918211610d8557565b634e487b7160e01b5f52601160045260245ffd5b90601f8019910116810190811067ffffffffffffffff821117610dbb57604052565b634e487b7160e01b5f52604160045260245ffd5b3d15610e09573d9067ffffffffffffffff8211610dbb5760405191610dfe601f8201601f191660200184610d99565b82523d5f602084013e565b606090565b90816020910312610199575180151581036101995790565b81810292918115918404141715610d8557565b91908201809211610d8557565b335f9081527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5602052604090205460ff1615610e7e57565b60405163e2517d3f60e01b81523360048201525f6024820152604490fd5b805f525f60205260405f20335f5260205260ff60405f20541615610ebd5750565b6044906040519063e2517d3f60e01b82523360048301526024820152fd5b600260015414610eec576002600155565b604051633ee5aeb560e01b8152600490fd5b90815f525f60205260405f209060018060a01b031690815f5260205260ff60405f205416155f14610f7457815f525f60205260405f20815f5260205260405f20600160ff1982541617905533917f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d5f80a4600190565b50505f90565b90815f525f60205260405f209060018060a01b031690815f5260205260ff60405f2054165f14610f7457815f525f60205260405f20815f5260205260405f2060ff19815416905533917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b5f80a460019056fea2646970667358221220f4af23d666a1725d7abf3d08e6404a0610f8da06b674d79b3257cc71fd221d8c64736f6c63430008180033ad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5","sourceMap":"482:8296:55:-:0;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;1857:1:42;;;-1:-1:-1;;;;;482:8296:55;;;;;;;3326:19;;:53;;;;-1:-1:-1;3326:86:55;;;;-1:-1:-1;3322:141:55;;3485:6;-1:-1:-1;3472:40:55;;482:8296;3523:27;;;3560:26;482:8296;;-1:-1:-1;;;;;;482:8296:55;;;;;;;;;;;;;-1:-1:-1;;;482:8296:55;;;;;;-1:-1:-1;;;3635:36:55;;482:8296;;;;;3635:36;;482:8296;;;3635:36;;;;;;-1:-1:-1;3635:36:55;;;-1:-1:-1;3682:37:55;3626:45;;482:8296;3626:45;3682:37;:::i;:::-;;3742:10;3733:19;3729:92;;-1:-1:-1;482:8296:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3729:92;3768:42;3742:10;3768:42;:::i;:::-;;3729:92;;3635:36;;482:8296;3635:36;;482:8296;3635:36;;;;;;482:8296;3635:36;;;:::i;:::-;;;482:8296;;;;3682:37;482:8296;;3635:36;;482:8296;-1:-1:-1;482:8296:55;;3635:36;;;-1:-1:-1;3635:36:55;;;482:8296;;;-1:-1:-1;482:8296:55;;;;;3472:40;482:8296;;-1:-1:-1;;;3500:12:55;;;;;3322:141;482:8296;;-1:-1:-1;;;3435:17:55;;;;;3326:86;482:8296;;;;3383:29;3326:86;;:53;482:8296;;;;3349:30;3326:53;;482:8296;;;;;-1:-1:-1;;482:8296:55;;;;-1:-1:-1;;;;;482:8296:55;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;-1:-1:-1;;;;;482:8296:55;;;;;;:::o;6179:316:28:-;-1:-1:-1;;;;;482:8296:55;3343:1;482:8296;;;-1:-1:-1;;;;;;;;;;;482:8296:55;;;;;;;;;;3343:1;482:8296;;;-1:-1:-1;;;;;;;;;;;482:8296:55;;;;;;;-1:-1:-1;;482:8296:55;6347:4:28;482:8296:55;;;735:10:38;;482:8296:55;6370:40:28;3343:1:55;;6370:40:28;6347:4;6424:11;:::o;6272:217::-;6466:12;3343:1:55;6466:12:28;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x608060409080825260049081361015610022575b5050503615610020575f80fd5b005b5f3560e01c90816301ffc9a714610cfa575080630b4bf6f014610c67578063248a9ca314610c3d57806327e235e314610c075780632e1a7d4d14610b1b5780632f2ff15d14610af257806336568abe14610aad5780635ac947cb14610a6a57806361d027b314610a425780636796debf1461086d5780636ff1c9bc1461074b57806391d1485414610707578063a217fddf146106ed578063a7e75032146106c5578063af8cdd84146105c0578063d547741f14610586578063d7c81b551461054c578063d945af1d1461051f578063ee59d240146104fa578063f0e18def1461019d5763f0f44260146101155780610013565b346101995760203660031901126101995761012e610d4c565b90610137610e46565b6001600160a01b0391821692831561018c575050600254826bffffffffffffffffffffffff60a01b821617600255167f4ab5be82436d353e61ca18726e984e561f5c1cc7c6d38b29d2553c790434705a5f80a3005b516302979eb960e31b8152fd5b5f80fd5b5090346101995760c0366003190112610199576101b8610d4c565b9060243567ffffffffffffffff811692838203610199576044359460843560ff81168091036101995760a4359160ff83168093036101995760018060a01b0394857f000000000000000000000000000000000000000000000000000000000000000016968733036104b85761022b610edb565b7f00000000000000000000000000000000000000000000000000000000000000008a0361044357805163675676c960e11b81526001600160a01b03871684820190815260208181018d905267ffffffffffffffff909416604082015290989083908a9081906060010381845afa98891561047f575f99610489575b5082602491835192838092635baede1960e11b82528d898301525afa90811561047f575f91610452575b501561044357875f526005825260ff815f20541661043557875f5260038252805f205497881561042557917f273b796921b4ccaba27eaa11bf8a76d5264285955918636244b7a224c65957829795939160c09795935f5260058252805f20600160ff19825416179055600382525f81812055606461034f81358c610e26565b0461271061036661ffff60025460a01c1683610e26565b049283821061041e576103798483610d78565b945b85610401575b846103e2575b8c838181106103b7575b50505082519b8c528b01528901526060880152608087015260a08601521692a460018055005b6103c091610d78565b908a600254165f5282526103d8845f20918254610e39565b90555f8c83610391565b89600254165f52808252835f206103fa868254610e39565b9055610387565b8989165f52808252835f20610417878254610e39565b9055610381565b5f9461037b565b815163769cabf160e01b81528490fd5b5162560ff960e81b81529050fd5b51637c5f015360e01b81529050fd5b6104729150833d8511610478575b61046a8183610d99565b810190610e0e565b5f6102d0565b503d610460565b82513d5f823e3d90fd5b9098508281813d83116104b1575b6104a18183610d99565b81010312610199575197826102a6565b503d610497565b5162461bcd60e51b8152602081840181905260248201527f436f696e466c69705661756c743a206e6f742067616d6520636f6e74726163746044820152606490fd5b8234610199575f3660031901126101995760209061ffff60025460a01c169051908152f35b50903461019957602036600319011261019957602091355f526005825260ff815f20541690519015158152f35b8234610199575f36600319011261019957602090517f00000000000000000000000000000000000000000000000000000000000000008152f35b50903461019957806003193601126101995761002091356105bb60016105aa610d62565b93835f525f6020525f200154610e9c565b610f7a565b5090346101995780600319360112610199578135906105dd610d62565b906105e6610e46565b6105ee610edb565b6001600160a01b0382169384156106b757835f526003602052815f20549283156106a8575f8080868194898352600360205282888120555af161062f610dcf565b501561066657507ffc31a7ddbe933aa6e67f3c98c183fbc87addd2b602fcfb10238d2f85cf0266179160209151908152a360018055005b6020606492519162461bcd60e51b8352820152601c60248201527f436f696e466c69705661756c743a20726566756e64206661696c6564000000006044820152fd5b50905163769cabf160e01b8152fd5b9051634e46966960e11b8152fd5b50903461019957602036600319011261019957602091355f5260038252805f20549051908152f35b8234610199575f36600319011261019957602090515f8152f35b509034610199578060031936011261019957602091610724610d62565b90355f525f8352815f209060018060a01b03165f52825260ff815f20541690519015158152f35b50903461019957602036600319011261019957610766610d4c565b9061076f610e46565b610777610edb565b6001600160a01b0382169283156106b7574792831561082a575f80808681945af16107a0610dcf565b50156107d757507f23d6711a1d031134a36921253c75aa59e967d38e369ac625992824315e204f209160209151908152a260018055005b6020608492519162461bcd60e51b8352820152602860248201527f436f696e466c69705661756c743a20656d657267656e637920776974686472616044820152671dc819985a5b195960c21b6064820152fd5b506020606492519162461bcd60e51b8352820152601760248201527f436f696e466c69705661756c743a206e6f2066756e64730000000000000000006044820152fd5b50906020908160031936011261019957823567ffffffffffffffff81168103610199573415610a3257815163675676c960e11b8152338186019081527f0000000000000000000000000000000000000000000000000000000000000000602082015267ffffffffffffffff909216604083015293907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316908490869081906060010381845afa9485156109eb575f95610a03575b50845f526005845260ff835f2054166109f55783602491845192838092635baede1960e11b825289878301525afa9081156109eb575f916109ce575b506109c057835f5260038352815f20546109b257507fe9a2cbce8726843bc0e7ed0322f7fdfbc3a351f26352fcd9c6eb888b57d3daff90835f526003835234815f205551913483523392a3005b90516318ade6cb60e21b8152fd5b905163c41aba6f60e01b8152fd5b6109e59150843d86116104785761046a8183610d99565b5f610965565b83513d5f823e3d90fd5b50905162560ff960e81b8152fd5b9094508381813d8311610a2b575b610a1b8183610d99565b810103126101995751935f610929565b503d610a11565b815163162908e360e11b81528490fd5b8234610199575f3660031901126101995760025490516001600160a01b039091168152602090f35b8234610199575f36600319011261019957517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b509034610199578060031936011261019957610ac7610d62565b90336001600160a01b03831603610ae357506100209135610f7a565b5163334bd91960e11b81529050fd5b5090346101995780600319360112610199576100209135610b1660016105aa610d62565b610efe565b50903461019957602036600319011261019957813591610b39610edb565b82158015610bf4575b610be657335f5280602052815f20610b5b848254610d78565b90555f80808086335af1610b6d610dcf565b5015610ba45750519081527f7084f5476618d8e60b11ef0d7d3f06914655adb8793e28ff7f018d4c76d505d560203392a260018055005b6020606492519162461bcd60e51b8352820152601e60248201527f436f696e466c69705661756c743a207769746864726177206661696c656400006044820152fd5b905163162908e360e11b8152fd5b50335f5280602052815f20548311610b42565b509034610199576020366003190112610199576020916001600160a01b03610c2d610d4c565b165f528252805f20549051908152f35b50903461019957602036600319011261019957602091355f525f82526001815f2001549051908152f35b50903461019957602036600319011261019957813561ffff8082169081830361019957610c92610e46565b6127108211610cea576002805461ffff60a01b19811660a095861b61ffff60a01b16179091558451931c16825260208201527f2e7c4279000925b8ff0bca0e7109cbc47fc6f6c4edfb831ffe7466cf0af07fa09250a1005b505050516358d620b360e01b8152fd5b823461019957602036600319011261019957359063ffffffff60e01b821680920361019957602091637965db0b60e01b8114908115610d3b575b5015158152f35b6301ffc9a760e01b14905083610d34565b600435906001600160a01b038216820361019957565b602435906001600160a01b038216820361019957565b91908203918211610d8557565b634e487b7160e01b5f52601160045260245ffd5b90601f8019910116810190811067ffffffffffffffff821117610dbb57604052565b634e487b7160e01b5f52604160045260245ffd5b3d15610e09573d9067ffffffffffffffff8211610dbb5760405191610dfe601f8201601f191660200184610d99565b82523d5f602084013e565b606090565b90816020910312610199575180151581036101995790565b81810292918115918404141715610d8557565b91908201809211610d8557565b335f9081527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5602052604090205460ff1615610e7e57565b60405163e2517d3f60e01b81523360048201525f6024820152604490fd5b805f525f60205260405f20335f5260205260ff60405f20541615610ebd5750565b6044906040519063e2517d3f60e01b82523360048301526024820152fd5b600260015414610eec576002600155565b604051633ee5aeb560e01b8152600490fd5b90815f525f60205260405f209060018060a01b031690815f5260205260ff60405f205416155f14610f7457815f525f60205260405f20815f5260205260405f20600160ff1982541617905533917f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d5f80a4600190565b50505f90565b90815f525f60205260405f209060018060a01b031690815f5260205260ff60405f2054165f14610f7457815f525f60205260405f20815f5260205260405f2060ff19815416905533917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b5f80a460019056fea2646970667358221220f4af23d666a1725d7abf3d08e6404a0610f8da06b674d79b3257cc71fd221d8c64736f6c63430008180033","sourceMap":"482:8296:55:-:0;;;;;;;;;;;;;;-1:-1:-1;482:8296:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;:::i;:::-;2475:4:28;;;:::i;:::-;-1:-1:-1;;;;;482:8296:55;;;;6640:25;;6636:55;;482:8296;;6720:8;482:8296;;;;;;;;6720:8;482:8296;;6775:38;482:8296;6775:38;;482:8296;6636:55;482:8296;-1:-1:-1;;;6674:17:55;;;482:8296;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3889:8;;;482:8296;3875:10;;;:22;482:8296;;2466:103:42;;:::i;:::-;5050:6:55;5031:25;;5027:58;;482:8296;;-1:-1:-1;;;5109:64:55;;-1:-1:-1;;;;;482:8296:55;;5109:64;;;482:8296;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5109:64;;;;;;;;;;482:8296;5109:64;;;482:8296;;;;;;;;;;;;;;5188:36;;;;;;482:8296;5188:36;;;;;;;482:8296;5188:36;;;482:8296;5187:37;;5183:70;;482:8296;;;5267:7;482:8296;;;;;;;;5263:41;;482:8296;;;5331:6;482:8296;;;;;;5356:10;;;5352:33;;482:8296;5849:81;482:8296;;;;;;;;;;5267:7;482:8296;;;;;;;;;;;;;;5331:6;482:8296;;;;;;;;5467:22;482:8296;;5467:22;;:::i;:::-;482:8296;5544:6;5521:19;482:8296;5529:11;482:8296;;;;5521:19;;:::i;:::-;482:8296;;5574:12;;;;;5589:11;;;;:::i;:::-;5574:30;;5619:7;5615:59;;5574:30;5687:7;5683:63;;5574:30;5759:13;;;;;5755:79;;5574:30;482:8296;;;;;;;;;;;;;;;;;;;;;;;;;;;5849:81;;482:8296;;;;5755:79;5810:13;;;:::i;:::-;482:8296;;5529:11;482:8296;;;;;;5788:35;482:8296;;;;;;5788:35;:::i;:::-;482:8296;;5755:79;;;;;5683:63;482:8296;5529:11;482:8296;;;;;;;;;;5710:25;482:8296;;;5710:25;:::i;:::-;482:8296;;5683:63;;5615:59;482:8296;;;;;;;;;;;5642:21;482:8296;;;5642:21;:::i;:::-;482:8296;;5615:59;;5574:30;482:8296;5574:30;;;5352:33;482:8296;;-1:-1:-1;;;5375:10:55;;482:8296;;5375:10;5263:41;482:8296;-1:-1:-1;;;5288:16:55;;482:8296;-1:-1:-1;5288:16:55;5183:70;482:8296;-1:-1:-1;;;5233:20:55;;482:8296;-1:-1:-1;5233:20:55;5188:36;;;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;482:8296;;;;;;;;;5109:64;;;;;;;;;;;;;;;;;:::i;:::-;;;482:8296;;;;;;;5109:64;;;;;;;482:8296;;-1:-1:-1;;;482:8296:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;2749:25;482:8296;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;;;2877:39;482:8296;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;2682:31;482:8296;;;;;;;;;;;;;;;;;4747:26:28;482:8296:55;;2475:4:28;482:8296:55;;;:::i;:::-;;;;;;;;;;3901:22:28;482:8296:55;2475:4:28;:::i;:::-;4747:26;:::i;482:8296:55:-;;;;;;;;;;;;;;;;;;;:::i;:::-;2475:4:28;;;:::i;:::-;2466:103:42;;:::i;:::-;-1:-1:-1;;;;;482:8296:55;;;7577:23;;7573:54;;482:8296;;;7654:6;482:8296;;;;;;7686:11;;;7682:34;;482:8296;;;;;;;;;7654:6;482:8296;;;;;;;7777:33;;;;:::i;:::-;;482:8296;;;;7883:45;482:8296;;;;;;;7883:45;482:8296;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7682:34;-1:-1:-1;482:8296:55;;-1:-1:-1;;;7706:10:55;;;7573:54;482:8296;;-1:-1:-1;;;7609:18:55;;;482:8296;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;;;2781:41;482:8296;;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;:::i;:::-;2475:4:28;;;:::i;:::-;2466:103:42;;:::i;:::-;-1:-1:-1;;;;;482:8296:55;;;8230:23;;8226:54;;8307:21;8346:10;;;482:8296;;;8413:33;;;;;;;;;:::i;:::-;;482:8296;;;;8531:38;482:8296;;;;;;;8531:38;1857:1:42;482:8296:55;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;482:8296:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4199:9;:14;4195:42;;482:8296;;-1:-1:-1;;;4268:61:55;;4299:10;4268:61;;;482:8296;;;4311:6;482:8296;;;;;;;;;;;;;;4278:8;-1:-1:-1;;;;;482:8296:55;;;;;;;;;;4268:61;;;;;;;;;;482:8296;4268:61;;;482:8296;;;;;4343:7;482:8296;;;;;;;;4339:48;;482:8296;;;;;;;;;;;;4401:43;;;;;;482:8296;4401:43;;;;;;;482:8296;4401:43;;;482:8296;4397:73;;;482:8296;;;4484:6;482:8296;;;;;;4480:54;;482:8296;4589:44;482:8296;;;;4484:6;482:8296;;4199:9;482:8296;;;;;4199:9;;482:8296;;4299:10;4589:44;;482:8296;4480:54;482:8296;;-1:-1:-1;;;4516:18:55;;;4397:73;482:8296;;-1:-1:-1;;;4453:17:55;;;4401:43;;;;;;;;;;;;;;:::i;:::-;;;;;482:8296;;;;;;;;;4339:48;-1:-1:-1;482:8296:55;;-1:-1:-1;;;4371:16:55;;;4268:61;;;;;;;;;;;;;;;;;:::i;:::-;;;482:8296;;;;;4268:61;;;;;;;;;4195:42;482:8296;;-1:-1:-1;;;4222:15:55;;482:8296;;4222:15;482:8296;;;;;;;-1:-1:-1;;482:8296:55;;;;2720:23;482:8296;;;-1:-1:-1;;;;;482:8296:55;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;2643:33;-1:-1:-1;;;;;482:8296:55;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;735:10:38;;-1:-1:-1;;;;;482:8296:55;;5421:34:28;5417:102;;482:8296:55;5529:37:28;482:8296:55;;5529:37:28;:::i;5417:102::-;482:8296:55;-1:-1:-1;;;5478:30:28;;482:8296:55;-1:-1:-1;5478:30:28;482:8296:55;;;;;;;;;;;;;;4330:25:28;482:8296:55;;2475:4:28;482:8296:55;;;:::i;2475:4:28:-;4330:25;:::i;482:8296:55:-;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;2466:103:42;;;:::i;:::-;6123:11:55;;:44;;;;482:8296;6119:72;;6210:10;482:8296;;;;;;;;6201:30;482:8296;;;6201:30;:::i;:::-;482:8296;;;6210:10;;;;;6260:34;;;;:::i;:::-;;482:8296;;;;;;;;6369:29;482:8296;6210:10;6369:29;;482:8296;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6119:72;482:8296;;-1:-1:-1;;;6176:15:55;;;6123:44;6156:10;;482:8296;;;;;;;;;6138:29;;6123:44;;482:8296;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;-1:-1:-1;;;;;482:8296:55;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;;;;;;;;;;3901:22:28;482:8296:55;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;;;;;;;;;;2475:4:28;;:::i;:::-;7060:6:55;7048:18;;7044:43;;7115:11;482:8296;;-1:-1:-1;;;;482:8296:55;;;;;;-1:-1:-1;;;482:8296:55;;;;;;;;;;;;;;;;7174:31;;-1:-1:-1;7174:31:55;482:8296;7044:43;482:8296;;;;7075:12;;;;;;482:8296;;;;;;;-1:-1:-1;;482:8296:55;;;;;;;;;;;;;;;;;;-1:-1:-1;;;2673:47:28;;;:87;;;;482:8296:55;;;;;;;2673:87:28;-1:-1:-1;;;862:40:49;;-1:-1:-1;2673:87:28;;;482:8296:55;;;;-1:-1:-1;;;;;482:8296:55;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;482:8296:55;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;482:8296:55;;;;;:::i;:::-;;;;-1:-1:-1;482:8296:55;;;;:::o;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;3199:103:28:-;735:10:38;482:8296:55;;;;;;;;;;;;;3519:23:28;3515:108;;3199:103::o;3515:108::-;482:8296:55;;-1:-1:-1;;;3565:47:28;;735:10:38;3565:47:28;;;482:8296:55;-1:-1:-1;482:8296:55;;;;;;3565:47:28;3199:103;482:8296:55;2954:6:28;482:8296:55;2954:6:28;482:8296:55;;;2954:6:28;482:8296:55;735:10:38;2954:6:28;482:8296:55;;;;;2954:6:28;482:8296:55;;;3519:23:28;3515:108;;3199:103;:::o;3515:108::-;482:8296:55;;;;3565:47:28;;;;;;735:10:38;3565:47:28;;;482:8296:55;;;;;3565:47:28;2575:307:42;1899:1;2702:7;482:8296:55;2702:18:42;2698:86;;1899:1;2702:7;482:8296:55;2575:307:42:o;2698:86::-;482:8296:55;;-1:-1:-1;;;2743:30:42;;;;;6179:316:28;;482:8296:55;2954:6:28;482:8296:55;2954:6:28;482:8296:55;;;2954:6:28;482:8296:55;;;;;;;;;;2954:6:28;482:8296:55;;;;;2954:6:28;482:8296:55;;;6276:23:28;6272:217;482:8296:55;;;;2954:6:28;482:8296:55;2954:6:28;482:8296:55;;;2954:6:28;482:8296:55;;2954:6:28;482:8296:55;;;;2954:6:28;482:8296:55;6347:4:28;482:8296:55;;;;;;;;735:10:38;6370:40:28;;2954:6;6370:40;;6347:4;6424:11;:::o;6272:217::-;6466:12;;2954:6;6466:12;:::o;6730:317::-;;482:8296:55;2954:6:28;482:8296:55;2954:6:28;482:8296:55;;;2954:6:28;482:8296:55;;;;;;;;;;2954:6:28;482:8296:55;;;;;2954:6:28;482:8296:55;;;6824:217:28;482:8296:55;;;;2954:6:28;482:8296:55;2954:6:28;482:8296:55;;;2954:6:28;482:8296:55;;2954:6:28;482:8296:55;;;;2954:6:28;482:8296:55;;;;;;;;735:10:38;6922:40:28;;2954:6;6922:40;;482:8296:55;6976:11:28;:::o","linkReferences":{},"immutableReferences":{"53344":[{"start":507,"length":32},{"start":2276,"length":32},{"start":2686,"length":32}],"53346":[{"start":557,"length":32},{"start":1379,"length":32},{"start":2219,"length":32}]}},"methodIdentifiers":{"DEFAULT_ADMIN_ROLE()":"a217fddf","adminRefundEscrow(bytes32,address)":"af8cdd84","balances(address)":"27e235e3","coinFlip()":"5ac947cb","emergencyWithdraw(address)":"6ff1c9bc","escrow(bytes32)":"a7e75032","gameId()":"d7c81b55","getRoleAdmin(bytes32)":"248a9ca3","grantRole(bytes32,address)":"2f2ff15d","hasRole(bytes32,address)":"91d14854","houseFeeBps()":"ee59d240","placeBet(uint64)":"6796debf","renounceRole(bytes32,address)":"36568abe","revokeRole(bytes32,address)":"d547741f","setHouseFeeBps(uint16)":"0b4bf6f0","setTreasury(address)":"f0f44260","settle(address,uint64,uint256,uint256,uint8,uint8)":"f0e18def","settled(bytes32)":"d945af1d","supportsInterface(bytes4)":"01ffc9a7","treasury()":"61d027b3","withdraw(uint256)":"2e1a7d4d"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"admin\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinFlipContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"treasuryAddress\",\"type\":\"address\"},{\"internalType\":\"uint16\",\"name\":\"feeBps\",\"type\":\"uint16\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AccessControlBadConfirmation\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"neededRole\",\"type\":\"bytes32\"}],\"name\":\"AccessControlUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AlreadySettled\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BetAlreadyPlaced\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidFee\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidRecipient\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidTreasury\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoEscrow\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SessionConsumed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SessionNotVerified\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"bettor\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"sessionKey\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"BetPlaced\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"EmergencyWithdrawal\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"sessionKey\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"EscrowRefunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"previousFeeBps\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"newFeeBps\",\"type\":\"uint16\"}],\"name\":\"FeeUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"previousAdminRole\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"newAdminRole\",\"type\":\"bytes32\"}],\"name\":\"RoleAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint64\",\"name\":\"sessionId\",\"type\":\"uint64\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"gameId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"stake\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"gross\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"net\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"outcome\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"guess\",\"type\":\"uint8\"}],\"name\":\"Settled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousTreasury\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newTreasury\",\"type\":\"address\"}],\"name\":\"TreasuryUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdrawn\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DEFAULT_ADMIN_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"sessionKey\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"adminRefundEscrow\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"coinFlip\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"emergencyWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"escrow\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleAdmin\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"grantRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRole\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"houseFeeBps\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint64\",\"name\":\"sessionId\",\"type\":\"uint64\"}],\"name\":\"placeBet\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"callerConfirmation\",\"type\":\"address\"}],\"name\":\"renounceRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"revokeRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint16\",\"name\":\"newFeeBps\",\"type\":\"uint16\"}],\"name\":\"setHouseFeeBps\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newTreasury\",\"type\":\"address\"}],\"name\":\"setTreasury\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint64\",\"name\":\"sessionId\",\"type\":\"uint64\"},{\"internalType\":\"uint256\",\"name\":\"submittedGameId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"multiplierX100\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"outcome\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"guess\",\"type\":\"uint8\"}],\"name\":\"settle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"settled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"treasury\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"details\":\"Mirrors the Degenshoot WagerVault behaviour with coin-specific metadata.\",\"errors\":{\"AccessControlBadConfirmation()\":[{\"details\":\"The caller of a function is not the expected one. NOTE: Don't confuse with {AccessControlUnauthorizedAccount}.\"}],\"AccessControlUnauthorizedAccount(address,bytes32)\":[{\"details\":\"The `account` is missing a role.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}]},\"events\":{\"RoleAdminChanged(bytes32,bytes32,bytes32)\":{\"details\":\"Emitted when `newAdminRole` is set as ``role``'s admin role, replacing `previousAdminRole` `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite {RoleAdminChanged} not being emitted signaling this.\"},\"RoleGranted(bytes32,address,address)\":{\"details\":\"Emitted when `account` is granted `role`. `sender` is the account that originated the contract call. This account bears the admin role (for the granted role). Expected in cases where the role was granted using the internal {AccessControl-_grantRole}.\"},\"RoleRevoked(bytes32,address,address)\":{\"details\":\"Emitted when `account` is revoked `role`. `sender` is the account that originated the contract call:   - if using `revokeRole`, it is the admin role bearer   - if using `renounceRole`, it is the role bearer (i.e. `account`)\"}},\"kind\":\"dev\",\"methods\":{\"adminRefundEscrow(bytes32,address)\":{\"params\":{\"recipient\":\"Recipient receiving the refund.\",\"sessionKey\":\"Session key derived from user/game/sessionId.\"}},\"constructor\":{\"params\":{\"admin\":\"Address granted DEFAULT_ADMIN_ROLE.\",\"coinFlipContract\":\"CoinFlipGame contract address.\",\"feeBps\":\"House fee in basis points (max 10000).\",\"treasuryAddress\":\"Recipient address for house fees.\"}},\"emergencyWithdraw(address)\":{\"details\":\"Intended for sunsetting the game; bypasses user balances so use with care.\"},\"getRoleAdmin(bytes32)\":{\"details\":\"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}.\"},\"grantRole(bytes32,address)\":{\"details\":\"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event.\"},\"hasRole(bytes32,address)\":{\"details\":\"Returns `true` if `account` has been granted `role`.\"},\"placeBet(uint64)\":{\"params\":{\"sessionId\":\"Session identifier generated off-chain.\"}},\"renounceRole(bytes32,address)\":{\"details\":\"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event.\"},\"revokeRole(bytes32,address)\":{\"details\":\"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event.\"},\"setHouseFeeBps(uint16)\":{\"params\":{\"newFeeBps\":\"Fee expressed in basis points.\"}},\"setTreasury(address)\":{\"params\":{\"newTreasury\":\"Treasury address.\"}},\"settle(address,uint64,uint256,uint256,uint8,uint8)\":{\"details\":\"callable only by the CoinFlipGame contract.\"},\"supportsInterface(bytes4)\":{\"details\":\"See {IERC165-supportsInterface}.\"},\"withdraw(uint256)\":{\"params\":{\"amount\":\"Amount in wei to withdraw.\"}}},\"title\":\"CoinFlipVault\",\"version\":1},\"userdoc\":{\"errors\":{\"AlreadySettled()\":[{\"notice\":\"Thrown when a session has already been settled.\"}],\"BetAlreadyPlaced()\":[{\"notice\":\"Thrown when the bettor already placed a stake for the session.\"}],\"InvalidAmount()\":[{\"notice\":\"Thrown when zero amount operations are attempted.\"}],\"InvalidFee()\":[{\"notice\":\"Thrown when fee basis points exceed 10000.\"}],\"InvalidRecipient()\":[{\"notice\":\"Thrown when an invalid payout recipient is provided.\"}],\"InvalidTreasury()\":[{\"notice\":\"Thrown when treasury configuration is invalid.\"}],\"NoEscrow()\":[{\"notice\":\"Thrown when no escrow exists for a session key.\"}],\"SessionConsumed()\":[{\"notice\":\"Thrown when a session was already consumed in the game contract.\"}],\"SessionNotVerified()\":[{\"notice\":\"Thrown when the supplied session cannot be verified against the game contract.\"}]},\"events\":{\"BetPlaced(address,bytes32,uint256)\":{\"notice\":\"Emitted when a player stakes ETH for a session.\"},\"EmergencyWithdrawal(address,uint256)\":{\"notice\":\"Emitted when the admin sweeps the remaining balance.\"},\"EscrowRefunded(bytes32,address,uint256)\":{\"notice\":\"Emitted when an administrator refunds escrow to a recipient.\"},\"FeeUpdated(uint16,uint16)\":{\"notice\":\"Emitted when the house fee basis points change.\"},\"Settled(address,uint64,uint256,uint256,uint256,uint256,uint256,uint8,uint8)\":{\"notice\":\"Emitted when a session settles and funds are distributed.\"},\"TreasuryUpdated(address,address)\":{\"notice\":\"Emitted when the treasury address changes.\"},\"Withdrawn(address,uint256)\":{\"notice\":\"Emitted when a user withdraws their accumulated balance.\"}},\"kind\":\"user\",\"methods\":{\"adminRefundEscrow(bytes32,address)\":{\"notice\":\"Admin path to refund escrow when a session needs manual intervention.\"},\"emergencyWithdraw(address)\":{\"notice\":\"Sweep the remaining contract balance to a recipient wallet.\"},\"placeBet(uint64)\":{\"notice\":\"Stake ETH for a specific coin flip session.\"},\"setHouseFeeBps(uint16)\":{\"notice\":\"Update house fee basis points (max 100%).\"},\"setTreasury(address)\":{\"notice\":\"Update the treasury address used for collecting house fees.\"},\"settle(address,uint64,uint256,uint256,uint8,uint8)\":{\"notice\":\"Settle a session after the game contract validates the signed result.\"},\"withdraw(uint256)\":{\"notice\":\"Withdraw accumulated balances.\"}},\"notice\":\"Escrows coin flip wagers and settles payouts once CoinFlipGame validates results.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/coinflip/CoinFlipVault.sol\":\"CoinFlipVault\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/AccessControl.sol\":{\"keccak256\":\"0xa0e92d42942f4f57c5be50568dac11e9d00c93efcb458026e18d2d9b9b2e7308\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://46326c0bb1e296b67185e81c918e0b40501b8b6386165855df0a3f3c634b6a80\",\"dweb:/ipfs/QmTwyrDYtsxsk6pymJTK94PnEpzsmkpUxFuzEiakDopy4Z\"]},\"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol\":{\"keccak256\":\"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1\",\"dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a\",\"dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol\":{\"keccak256\":\"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287\",\"dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"src/coinflip/CoinFlipVault.sol\":{\"keccak256\":\"0x4f011f5421310276653a3fb44e691901fb3ab675d7416683b1e94eefe6c65ae2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://be36b7ae4692a9ac2cf7b196a805a4eed2832b228f5222301ba6e8d6b92f59dc\",\"dweb:/ipfs/QmdeT2DPDadWgJiJ62GrjTCRp8CYsQcMTvNUSidVAotMei\"]},\"src/coinflip/interfaces/ICoinFlip.sol\":{\"keccak256\":\"0xee356f25e5bb6be47b320153d4ae98d59320085e109a851f38440b797856716a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://56d0ce9739e2b38aafb058e18696334e4b431c088794fed312788c60e8b8206f\",\"dweb:/ipfs/Qmcr2ssY4SPehCm4Aeb4Y64kRQw9jZ1E9M53Ym323747JE\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"admin","type":"address"},{"internalType":"address","name":"coinFlipContract","type":"address"},{"internalType":"address","name":"treasuryAddress","type":"address"},{"internalType":"uint16","name":"feeBps","type":"uint16"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AccessControlBadConfirmation"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"bytes32","name":"neededRole","type":"bytes32"}],"type":"error","name":"AccessControlUnauthorizedAccount"},{"inputs":[],"type":"error","name":"AlreadySettled"},{"inputs":[],"type":"error","name":"BetAlreadyPlaced"},{"inputs":[],"type":"error","name":"InvalidAmount"},{"inputs":[],"type":"error","name":"InvalidFee"},{"inputs":[],"type":"error","name":"InvalidRecipient"},{"inputs":[],"type":"error","name":"InvalidTreasury"},{"inputs":[],"type":"error","name":"NoEscrow"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[],"type":"error","name":"SessionConsumed"},{"inputs":[],"type":"error","name":"SessionNotVerified"},{"inputs":[{"internalType":"address","name":"bettor","type":"address","indexed":true},{"internalType":"bytes32","name":"sessionKey","type":"bytes32","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"BetPlaced","anonymous":false},{"inputs":[{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"EmergencyWithdrawal","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"sessionKey","type":"bytes32","indexed":true},{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"EscrowRefunded","anonymous":false},{"inputs":[{"internalType":"uint16","name":"previousFeeBps","type":"uint16","indexed":false},{"internalType":"uint16","name":"newFeeBps","type":"uint16","indexed":false}],"type":"event","name":"FeeUpdated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"previousAdminRole","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"newAdminRole","type":"bytes32","indexed":true}],"type":"event","name":"RoleAdminChanged","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleGranted","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleRevoked","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint64","name":"sessionId","type":"uint64","indexed":true},{"internalType":"uint256","name":"gameId","type":"uint256","indexed":true},{"internalType":"uint256","name":"stake","type":"uint256","indexed":false},{"internalType":"uint256","name":"gross","type":"uint256","indexed":false},{"internalType":"uint256","name":"fee","type":"uint256","indexed":false},{"internalType":"uint256","name":"net","type":"uint256","indexed":false},{"internalType":"uint8","name":"outcome","type":"uint8","indexed":false},{"internalType":"uint8","name":"guess","type":"uint8","indexed":false}],"type":"event","name":"Settled","anonymous":false},{"inputs":[{"internalType":"address","name":"previousTreasury","type":"address","indexed":true},{"internalType":"address","name":"newTreasury","type":"address","indexed":true}],"type":"event","name":"TreasuryUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"Withdrawn","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"sessionKey","type":"bytes32"},{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"adminRefundEscrow"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"coinFlip","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"emergencyWithdraw"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"escrow","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"gameId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"grantRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"houseFeeBps","outputs":[{"internalType":"uint16","name":"","type":"uint16"}]},{"inputs":[{"internalType":"uint64","name":"sessionId","type":"uint64"}],"stateMutability":"payable","type":"function","name":"placeBet"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"callerConfirmation","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"renounceRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"revokeRole"},{"inputs":[{"internalType":"uint16","name":"newFeeBps","type":"uint16"}],"stateMutability":"nonpayable","type":"function","name":"setHouseFeeBps"},{"inputs":[{"internalType":"address","name":"newTreasury","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setTreasury"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint64","name":"sessionId","type":"uint64"},{"internalType":"uint256","name":"submittedGameId","type":"uint256"},{"internalType":"uint256","name":"multiplierX100","type":"uint256"},{"internalType":"uint8","name":"outcome","type":"uint8"},{"internalType":"uint8","name":"guess","type":"uint8"}],"stateMutability":"nonpayable","type":"function","name":"settle"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"settled","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"stateMutability":"view","type":"function","name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"treasury","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdraw"},{"inputs":[],"stateMutability":"payable","type":"receive"}],"devdoc":{"kind":"dev","methods":{"adminRefundEscrow(bytes32,address)":{"params":{"recipient":"Recipient receiving the refund.","sessionKey":"Session key derived from user/game/sessionId."}},"constructor":{"params":{"admin":"Address granted DEFAULT_ADMIN_ROLE.","coinFlipContract":"CoinFlipGame contract address.","feeBps":"House fee in basis points (max 10000).","treasuryAddress":"Recipient address for house fees."}},"emergencyWithdraw(address)":{"details":"Intended for sunsetting the game; bypasses user balances so use with care."},"getRoleAdmin(bytes32)":{"details":"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}."},"grantRole(bytes32,address)":{"details":"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event."},"hasRole(bytes32,address)":{"details":"Returns `true` if `account` has been granted `role`."},"placeBet(uint64)":{"params":{"sessionId":"Session identifier generated off-chain."}},"renounceRole(bytes32,address)":{"details":"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `callerConfirmation`. May emit a {RoleRevoked} event."},"revokeRole(bytes32,address)":{"details":"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event."},"setHouseFeeBps(uint16)":{"params":{"newFeeBps":"Fee expressed in basis points."}},"setTreasury(address)":{"params":{"newTreasury":"Treasury address."}},"settle(address,uint64,uint256,uint256,uint8,uint8)":{"details":"callable only by the CoinFlipGame contract."},"supportsInterface(bytes4)":{"details":"See {IERC165-supportsInterface}."},"withdraw(uint256)":{"params":{"amount":"Amount in wei to withdraw."}}},"version":1},"userdoc":{"kind":"user","methods":{"adminRefundEscrow(bytes32,address)":{"notice":"Admin path to refund escrow when a session needs manual intervention."},"emergencyWithdraw(address)":{"notice":"Sweep the remaining contract balance to a recipient wallet."},"placeBet(uint64)":{"notice":"Stake ETH for a specific coin flip session."},"setHouseFeeBps(uint16)":{"notice":"Update house fee basis points (max 100%)."},"setTreasury(address)":{"notice":"Update the treasury address used for collecting house fees."},"settle(address,uint64,uint256,uint256,uint8,uint8)":{"notice":"Settle a session after the game contract validates the signed result."},"withdraw(uint256)":{"notice":"Withdraw accumulated balances."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/coinflip/CoinFlipVault.sol":"CoinFlipVault"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/access/AccessControl.sol":{"keccak256":"0xa0e92d42942f4f57c5be50568dac11e9d00c93efcb458026e18d2d9b9b2e7308","urls":["bzz-raw://46326c0bb1e296b67185e81c918e0b40501b8b6386165855df0a3f3c634b6a80","dweb:/ipfs/QmTwyrDYtsxsk6pymJTK94PnEpzsmkpUxFuzEiakDopy4Z"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol":{"keccak256":"0xc1c2a7f1563b77050dc6d507db9f4ada5d042c1f6a9ddbffdc49c77cdc0a1606","urls":["bzz-raw://fd54abb96a6156d9a761f6fdad1d3004bc48d2d4fce47f40a3f91a7ae83fc3a1","dweb:/ipfs/QmUrFSGkTDJ7WaZ6qPVVe3Gn5uN2viPb7x7QQ35UX4DofX"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol":{"keccak256":"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3","urls":["bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a","dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol":{"keccak256":"0xddce8e17e3d3f9ed818b4f4c4478a8262aab8b11ed322f1bf5ed705bb4bd97fa","urls":["bzz-raw://8084aa71a4cc7d2980972412a88fe4f114869faea3fefa5436431644eb5c0287","dweb:/ipfs/Qmbqfs5dRdPvHVKY8kTaeyc65NdqXRQwRK7h9s5UJEhD1p"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"src/coinflip/CoinFlipVault.sol":{"keccak256":"0x4f011f5421310276653a3fb44e691901fb3ab675d7416683b1e94eefe6c65ae2","urls":["bzz-raw://be36b7ae4692a9ac2cf7b196a805a4eed2832b228f5222301ba6e8d6b92f59dc","dweb:/ipfs/QmdeT2DPDadWgJiJ62GrjTCRp8CYsQcMTvNUSidVAotMei"],"license":"MIT"},"src/coinflip/interfaces/ICoinFlip.sol":{"keccak256":"0xee356f25e5bb6be47b320153d4ae98d59320085e109a851f38440b797856716a","urls":["bzz-raw://56d0ce9739e2b38aafb058e18696334e4b431c088794fed312788c60e8b8206f","dweb:/ipfs/Qmcr2ssY4SPehCm4Aeb4Y64kRQw9jZ1E9M53Ym323747JE"],"license":"MIT"}},"version":1},"id":55}